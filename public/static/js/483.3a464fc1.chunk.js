"use strict";(self.webpackChunkfull_stack_demo=self.webpackChunkfull_stack_demo||[]).push([[483],{483:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(791),o=s(689),n=s(87),l=s(294),r=s(289),d=s(882),c=s(184);const u=()=>{const[e,t]=(0,a.useState)(""),[s,u]=(0,a.useState)(""),[i,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),p=(0,o.s0)(),g=(0,a.useContext)(r.Z);return(0,c.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded-md shadow-md",children:[(0,c.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-8",children:"Login"}),i&&(0,c.jsx)("p",{className:"mb-4 text-red-600",children:i}),(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault();if(!e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return void m("Please enter a valid email address.");if(!(s&&s.length>5))return m("Please enter a password which is at least 6 characters long."),void x(!1);const o={userEmail:e,userPassword:s};x(!0),m("");try{const e=await l.Z.post("http://localhost:5000/api/auth",o);200===e.status&&(x(!1),g.login(),localStorage.setItem("userId",e.data.userId),localStorage.setItem("token",e.data.token),p("/products"))}catch(i){m(i.response.data.error||"An error occurred during login. Please try again."),console.error(i)}t(""),u(""),x(!1)},children:[(0,c.jsx)(d.Z,{text:"Email",name:"email",type:"email",value:e,onChange:e=>{t(e.target.value),m("")}}),(0,c.jsx)(d.Z,{text:"Password",name:"password",type:"password",value:s,onChange:e=>{u(e.target.value),m("")}}),h&&(0,c.jsx)("p",{className:"my-2 font-semibold text-center",children:"Loading..."}),(0,c.jsx)("button",{type:"submit",className:"bg-blue-500 font-semibold text-white w-full py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:shadow-outline-blue",children:"Log In"})]}),(0,c.jsx)("div",{className:"mt-4 font-semibold text-center hover:underline",children:(0,c.jsx)(n.rU,{to:"/signup",children:"Don't have account? Signup"})})]})}},882:(e,t,s)=>{s.d(t,{Z:()=>o});s(791);var a=s(184);const o=e=>{const{text:t="",name:s,...o}=e,n="".concat(s,"-input");return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:n,children:t}),(0,a.jsx)("input",{id:n,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",...o})]})}}}]);
//# sourceMappingURL=483.3a464fc1.chunk.js.map