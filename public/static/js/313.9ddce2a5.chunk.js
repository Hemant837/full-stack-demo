"use strict";(self.webpackChunkfull_stack_demo=self.webpackChunkfull_stack_demo||[]).push([[313],{313:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(791),n=a(689),o=a(87),r=a(294);const l={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let d;const u=new Uint8Array(16);function i(){if(!d&&(d="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(u)}const c=[];for(let v=0;v<256;++v)c.push((v+256).toString(16).slice(1));function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}const p=function(e,t,a){if(l.randomUUID&&!t&&!e)return l.randomUUID();const s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=s[e];return t}return m(s)};var h=a(289),f=a(882),g=a(184);const x=()=>{const[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[i,c]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1),v=(0,n.s0)(),y=(0,s.useContext)(h.Z);return(0,g.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded-md shadow-md",children:[(0,g.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-8",children:"Signup"}),i&&(0,g.jsx)("p",{className:"mb-4 text-red-600",children:i}),(0,g.jsxs)("form",{onSubmit:async t=>{t.preventDefault();if(e||c("Please enter your full name."),!a.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return void c("Please enter a valid email address.");if(!d)return void c("Please enter a valid password.");if(!/[A-Z]/.test(d))return void c("Password must contain at least one uppercase letter.");if(!/[a-z]/.test(d))return void c("Password must contain at least one lowercase letter.");if(!/\d/.test(d))return void c("Password must contain at least one digit.");if(!/[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]/.test(d))return void c("Password must contain at least one special character.");const s={userId:p(),fullName:e,userEmail:a,userPassword:d};x(!0),c("");try{const e=await r.Z.post("http://localhost:5000/api/signup",s);console.log(e.data),y.login(),200===e.status&&(x(!1),localStorage.setItem("userId",e.data.userId),localStorage.setItem("token",e.data.token),v("/products"))}catch(i){c(i.response.data.error||"An error occurred during signup. Please try again."),console.error(i)}l(""),u(""),x(!1)},children:[(0,g.jsx)(f.Z,{text:"Full name",name:"name",type:"text",value:e,onChange:e=>{t(e.target.value),c("")}}),(0,g.jsx)(f.Z,{text:"Email",name:"email",type:"email",value:a,onChange:e=>{l(e.target.value),c("")}}),(0,g.jsx)(f.Z,{text:"Password",name:"password",type:"password",value:d,onChange:e=>{u(e.target.value),c("")}}),m&&(0,g.jsx)("div",{className:"my-2 font-semibold",children:"Loading..."}),(0,g.jsx)("button",{type:"submit",className:"bg-blue-500 font-semibold text-white w-full py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:shadow-outline-blue",children:"Signup"}),(0,g.jsx)("div",{className:"mt-4 font-semibold text-center hover:underline",children:(0,g.jsx)(o.rU,{to:"/auth",children:"Already have an account? Login"})})]})]})}},882:(e,t,a)=>{a.d(t,{Z:()=>n});a(791);var s=a(184);const n=e=>{const{text:t="",name:a,...n}=e,o="".concat(a,"-input");return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:o,children:t}),(0,s.jsx)("input",{id:o,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",...n})]})}}}]);
//# sourceMappingURL=313.9ddce2a5.chunk.js.map