"use strict";(self.webpackChunkfull_stack_demo=self.webpackChunkfull_stack_demo||[]).push([[743],{743:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(791),r=a(294),i=a(882),n=a(184);const l=()=>{const[e,t]=(0,s.useState)({id:parseInt(1e4*Math.random()+1),pName:"",pDescription:"",price:"",imgUrl:""}),[a,l]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),d=(e,a)=>{t((t=>({...t,[e]:a})))};return(0,n.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded-md shadow-md",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Add Product"}),a&&(0,n.jsx)("div",{className:"text-red-500 mb-4",children:a}),o&&(0,n.jsx)("p",{className:"mb-4 text-green-600 font-semibold",children:o}),(0,n.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),e.pName)if(e.pDescription&&e.pDescription.length>5)if(!e.price||isNaN(e.price)||e.price<=0)l("Price must be a valid positive number.");else if(e.price>=1e3)l("Price must be less than or equal to 999.");else if(e.imgUrl&&(e.imgUrl.includes(".jpg")||e.imgUrl.includes(".jpeg")))try{const t=await r.Z.post("http://localhost:5000/api/add-product",e);console.log(t),console.log(t.data),200===t.status?c(t.data.message):l(t.data.error||"Error adding the product. Please try again.")}catch(a){console.log(a),l(a),c("")}finally{t({id:parseInt(1e4*Math.random()+1),pName:"",pDescription:"",price:"",imgUrl:""})}else l("Please enter a valid image URL.");else l("Please enter the description with at least 6 characters.");else l("Please enter a product name.")},children:[(0,n.jsx)(i.Z,{text:"Product Name",name:"pName",type:"text",value:e.pName,onChange:e=>{d("pName",e.target.value),l("")}}),(0,n.jsx)(i.Z,{text:"Description",name:"pDescription",type:"text",value:e.pDescription,onChange:e=>{d("pDescription",e.target.value),l("")}}),(0,n.jsx)(i.Z,{text:"Price",name:"price",type:"number",value:e.price,onChange:e=>{d("price",parseInt(e.target.value)),l("")}}),(0,n.jsx)(i.Z,{text:"Image URL",name:"imgUrl",type:"text",value:e.imgUrl,onChange:e=>{d("imgUrl",e.target.value),l("")}}),(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 text-white w-full py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:shadow-outline-green",children:"Add Product"})]})]})}},882:(e,t,a)=>{a.d(t,{Z:()=>r});a(791);var s=a(184);const r=e=>{const{text:t="",name:a,...r}=e,i="".concat(a,"-input");return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:i,children:t}),(0,s.jsx)("input",{id:i,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",...r})]})}}}]);
//# sourceMappingURL=743.d698d2c6.chunk.js.map